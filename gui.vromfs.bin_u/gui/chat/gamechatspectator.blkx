tdiv {
	id:t = "gamechat"
	size:t = "pw, ph"
	flow:t = "vertical"
	div {
		id:t = "chat_log_tdiv"
		position:t = "absolute"
		size:t = "pw + 1@scrollBarSize, ph"
		sizeWithInput:t = "pw + 1@scrollBarSize, ph - @spectatorToolbarBtnSize - 5*@sf/@pf_outdated"
		sizeWithoutInput:t = "pw + 1@scrollBarSize, ph"
		padding-left:t = "@scrollBarSize + 0.5*@scrn_tgt/100.0"
		overflow-y:t = "auto"
		scroll-align:t = "left"
		auto-scroll:t = "yes"
		css-hier-invalidate:t = "yes"
		chatLog {
			id:t = "chat_log"
			width:t = "pw"
			on_link_click:t = "onChatLinkClick"
			on_link_rclick:t = "onChatLinkRClick"
			punctuation-exception:t = '-.,'"():/\@[]=^+'
			text:t = ""
		}
	}
	div {
		id:t = "chat_input_div"
		pos:t = "0, ph-h"
		position:t = "absolute"
		size:t = "pw, @spectatorToolbarBtnSize"
		div {
			id:t = "chat_input_placeholder"
			display:t = "show"
			position:t = "absolute"
			size:t = "pw, ph"
			hoverButton {
				id:t = "btn_activate"
				_on_click:t = "onChatIngameRequestActivate"
				isTextBtn:t = "yes"
				style:t = "margin:0; width:pw;"
				not-input-transparent:t = "yes"
				total-input-transparent:t = "yes"
				overflow:t = "hidden"
				chatHint {
					behaviour:t = "BhvHint"
					pos:t = "0, 0.5ph-0.5h"
					position:t = "relative"
					auto-scroll:t = "medium"
					value:t = "chat/help/spectator"
				}
			}
		}
		div {
			id:t = "chat_input_back"
			display:t = "hide"
			flow:t = "horizontal"
			position:t = "absolute"
			size:t = "pw, ph"
			hoverButton {
				id:t = "chat_prompt"
				tooltip:t = "#chat/team"
				_on_click:t = "onChatMode"
				no_text:t = "yes"
				style:t = "margin:0;"
				icon {
					id:t = "icon"
					background-image:t = "#ui/gameuiskin#player_in_queue"
					input-transparent:t = "yes"
				}
			}
			EditBox {
				id:t = "chat_input"
				width:t = "fw"
				max-len:t = "250"
				on_activate:t = "onChatEntered"
				on_cancel_edit:t = "onChatCancel"
				on_change_value:t = "onChatChanged"
				style:t = "height:@spectatorToolbarBtnSize;"
				text:t = ""
			}
			hoverButton {
				id:t = "btn_send"
				tooltip:t = "#chat/send"
				on_click:t = "onChatIngameRequestEnter"
				style:t = "margin:0;"
				icon {
					background-image:t = "#ui/gameuiskin#ok"
				}
			}
			hoverButton {
				id:t = "btn_cancel"
				tooltip:t = "#msgbox/btn_cancel"
				_on_click:t = "onChatIngameRequestCancel"
				style:t = "margin:0;"
				icon {
					background-image:t = "#ui/gameuiskin#btn_close.svg"
				}
			}
		}
	}
}
timer {
	id:t = "chat_update"
	timer_handler_func:t = "onUpdate"
}